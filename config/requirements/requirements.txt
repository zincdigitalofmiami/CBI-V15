# CBI-V15 Requirements (Python 3.12+)
# V15.1 AutoGluon Hybrid Architecture
# MotherDuck/DuckDB storage (NO BigQuery)
# AutoGluon 1.4 TabularPredictor + TimeSeriesPredictor

# =============================================================================
# Core Data & IO
# =============================================================================
pandas>=2.2.3
numpy>=1.26.4
pyarrow>=16.1.0
scipy>=1.13.0

# =============================================================================
# Database (MotherDuck/DuckDB ONLY)
# =============================================================================
duckdb>=1.1.3

# =============================================================================
# AutoGluon 1.4 (Primary ML Framework)
# =============================================================================
autogluon.tabular[all]>=1.4.0
autogluon.timeseries[all]>=1.4.0
autogluon.core>=1.4.0

# AutoGluon Models (Mac M4 CPU-Compatible)
# - LightGBM, CatBoost, XGBoost (tree models)
# - FastAI, PyTorch Neural Nets (CPU mode)
# - Random Forest, Extra Trees
# - Auto-stacking and weighted ensembling
# - Quantile regression (P10/P50/P90)
#
# NOTE: Foundation models (TabPFNv2, Mitra, TabICL, TabM) require GPU with 32+ GB VRAM
#       "extreme_quality" preset will run on CPU but is much faster with a CUDA GPU (32GB+ VRAM recommended).
#       The libomp fix (see scripts/setup/install_autogluon_mac.sh) is STILL CRITICAL for the tree models
#       (LightGBM, CatBoost, XGBoost) within the extreme_quality preset to avoid segfaults on Mac M4.
#
# NOTE: Mitra (Salesforce time-series foundation model) works well on Mac M4 with Metal (MPS) acceleration.
#       Use Mitra as fallback when Chronos-Bolt hangs on Mac M4 (see src/training/autogluon/mitra_trainer.py).

# =============================================================================
# Time Series Foundation Models (Mac M4 Metal-Accelerated)
# =============================================================================
mitra-forecast>=0.1.0  # Salesforce Mitra - Metal (MPS) compatible on Mac M4

# =============================================================================
# Baseline Models (Legacy - being phased out for AutoGluon)
# =============================================================================
lightgbm>=4.5.0
catboost>=1.2.7
xgboost>=2.1.1
scikit-learn>=1.5.2

# =============================================================================
# Data APIs
# =============================================================================
databento>=0.40.0
requests>=2.31.0
beautifulsoup4>=4.12.0
lxml>=5.2.0

# =============================================================================
# Utilities
# =============================================================================
python-dotenv>=1.0.1
pyyaml>=6.0.2
click>=8.1.7
tqdm>=4.66.0

# =============================================================================
# LLM (OpenAI for TSci agents)
# =============================================================================
openai>=1.30.0

# =============================================================================
# Development & Testing
# =============================================================================
pytest>=8.0.0
pytest-cov>=4.1.0
black>=24.0.0
ruff>=0.4.0

# =============================================================================
# Visualization (Optional)
# =============================================================================
matplotlib>=3.8.0
seaborn>=0.13.0
plotly>=5.20.0
